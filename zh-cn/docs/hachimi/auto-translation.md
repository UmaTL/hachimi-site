# 自动翻译

Hachimi 能够通过 Sugoi Offline Translator 或任何实现类似 API 的兼容翻译服务器（例如 [py3translationServer](https://github.com/gdiaz384/py3translationServer)）来自动翻译游戏的部分内容。

### 意味着什么？

- 对于尚未翻译的内容，系统将会给出机器翻译。
- 一旦翻译仓库中有对应的人工翻译，那么机器翻译就会被自动替换。

### 注意事项

- 翻译的过程是同步的；在等待翻译完成的过程中，游戏可能会卡住。随着翻译数量的增多，并且 Hachimi 能够重新加载已翻译的数据，这种情况会逐渐减少。

## 如何使用

打开配置编辑器，并且启用其中一项自动翻译功能（自动翻译剧情或游戏界面）。

::: warning
一般情况下不建议启用 “自动翻译游戏界面”，尤其是缺乏内部缓存的翻译器。
:::

您还需要在游戏的同时运行翻译程序。

### 对于 Sugoi Offline Translator

启动 Sugoi Toolkit 中的 “Offline Translator” .bat 文件。保持翻译程序/命令提示符处于打开状态，以便 Hachimi 能够调用翻译器（但是它不会通过这些窗口显示任何内容）。

**不建议在使用此翻译器的情况下打开 “自动翻译游戏界面”。**

### 对于 py3translationServer

假设您已经正确设置了模型，则无需进行其他配置。只需启动服务器即可运行。

## 自定义 URL

如果您的翻译服务器在不同的端口或不同的机器上运行，您可能希望让 Hachimi 连接到不同的地址。

为此，请在配置文件中手动设定 `sugoi_url` 选项。例如：

```json
"sugoi_url": "http://127.0.0.1:14366"
```

默认情况下，这个值会缺失或在配置文件中被设置为 `null` 。这是正常现象，即使没有手动设置，Hachimi 仍会尝试连接到 `http://127.0.0.1:14366`
